# LenaLink - ĞœÑƒĞ»ÑŒÑ‚Ğ¸Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ñ€ Ğ´Ğ»Ñ Ğ¯ĞºÑƒÑ‚Ğ¸Ğ¸

**ĞĞ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ñ€ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ñ‹Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² Ñ ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ĞµĞ¹**: Ğ°Ğ²Ğ¸Ğ°, Ğ¶ĞµĞ»ĞµĞ·Ğ½Ğ°Ñ Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ°, Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑƒÑÑ‹ Ğ¸ Ñ€ĞµÑ‡Ğ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğµ.

ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ²ĞµÑÑŒ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, ĞœĞ¾ÑĞºĞ²Ğ° â†’ Ğ¯ĞºÑƒÑ‚ÑĞº â†’ ĞĞ»Ñ‘ĞºĞ¼Ğ¸Ğ½ÑĞº) Ğ¸ **Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ±Ğ¸Ğ»ĞµÑ‚Ñ‹ Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¾Ğ¼** Ğ½Ğ° Ğ½Ğ°ÑˆĞµĞ¼ ÑĞ°Ğ¹Ñ‚Ğµ. ĞœÑ‹ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€ÑƒĞµĞ¼ Ğ±Ğ¸Ğ»ĞµÑ‚Ñ‹ Ñƒ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸ĞºĞ¾Ğ² Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆÑƒÑ Ğ½Ğ°Ñ†ĞµĞ½ĞºÑƒ (5-15%).

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** MVP Ğ´Ğ»Ñ HACK the ICE 2025 Ñ ACID Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑĞ¼Ğ¸ Ğ¸ graph-based routing

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Go 1.22+
- PostgreSQL 14+ (Ğ´Ğ»Ñ production, Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ in-memory)
- git (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

```bash
# ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾
git clone <repo-url>
cd backend

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
go mod download

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞµÑ€Ğ²ĞµÑ€
go run ./cmd/server

# Ğ˜Ğ»Ğ¸ ÑĞ¾Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»
go build -o bin/lenalink-server ./cmd/server
./bin/lenalink-server
```

Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ½Ğ° `http://localhost:8080`

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
curl http://localhost:8080/health
```

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° - SOLID Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

LenaLink Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ **SOLID Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ¾Ğ²** Ğ´Ğ»Ñ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡ĞµĞ½Ğ¸Ñ maintainability, scalability Ğ¸ testability.

### Ğ¡Ğ»Ğ¾Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HTTP Handlers (API Layer)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Service Layer (Business Logic)           â”‚
â”‚  - RouteService (graph-based pathfinding)        â”‚
â”‚  - BookingService (multi-segment + ACID)         â”‚
â”‚  - CommissionService (markup calculation)        â”‚
â”‚  - InsuranceService (premium calculation)        â”‚
â”‚  - PaymentService (payment processing)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Graph Engine (Route Finding)             â”‚
â”‚  - Graph (nodes + edges)                         â”‚
â”‚  - DijkstraPathfinder (shortest path)            â”‚
â”‚  - GeoJSON Visualization                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Repository Pattern (Data Access)              â”‚
â”‚  - RouteRepository (interface + memory impl)     â”‚
â”‚  - BookingRepository (interface + memory impl)   â”‚
â”‚  - Transaction (ACID guarantees)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Infrastructure (Persistence, Logging)         â”‚
â”‚  - In-Memory Storage (MVP)                       â”‚
â”‚  - PostgreSQL (planned for production)           â”‚
â”‚  - Structured Logger                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Domain Layer (Entities)                  â”‚
â”‚  - Route, Segment, Stop, Connection              â”‚
â”‚  - Booking, BookedSegment, Payment, Passenger    â”‚
â”‚  - Node, Edge, Graph                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### SOLID Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ

#### 1. Single Responsibility (SRP)
ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¾Ğ´Ğ½Ñƒ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:
- **Handler** - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ HTTP Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- **Service** - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (Ğ¿Ğ¾Ğ¸ÑĞº, Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ñ€Ğ°ÑÑ‡ĞµÑ‚Ñ‹)
- **Repository** - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼

#### 2. Open/Closed (OCP)
ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ° Ğ´Ğ»Ñ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ:
- ĞĞ¾Ğ²Ñ‹Ğµ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ ĞºĞ¾Ğ´Ğ°
- ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ½Ğ¾Ğ²Ñ‹Ğµ segment Ñ‚Ğ¸Ğ¿Ñ‹

#### 3. Liskov Substitution (LSP)
Repository Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ Ğ¸Ğ¼ĞµÑÑ‚ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:
- **In-Memory** - Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¸ unit Ñ‚ĞµÑÑ‚Ğ¾Ğ²
- **PostgreSQL** - Ğ´Ğ»Ñ production (Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)
- ĞĞ±Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹

#### 4. Interface Segregation (ISP)
ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹:
```go
RouteRepository         // Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°Ğ¼Ğ¸
BookingRepository       // Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸
Transaction             // ACID Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
TransactionManager      // ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑĞ¼Ğ¸
PaymentGateway          // Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹
ProviderBookingService  // Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñƒ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸ĞºĞ¾Ğ²
```

#### 5. Dependency Inversion (DIP)
Services Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ¾Ñ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ², Ğ° Ğ½Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹:
```go
// âœ… ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°
type BookingService struct {
    repo repository.BookingRepository
}

// âŒ ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾: Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
type BookingService struct {
    repo *postgres.BookingRepository
}
```

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
backend/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go                 # Entry point Ñ DI ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ¼
â”‚
â”œâ”€â”€ internal/                       # ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.go              # Config management (env vars)
â”‚   â”‚
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ route.go               # Route, Segment, Stop entities
â”‚   â”‚   â”œâ”€â”€ booking.go             # Booking, BookedSegment, Payment, Passenger
â”‚   â”‚   â””â”€â”€ errors.go              # Domain errors
â”‚   â”‚
â”‚   â”œâ”€â”€ graph/                     # ğŸ†• Graph Engine
â”‚   â”‚   â”œâ”€â”€ node.go                # Node (Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°/ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸)
â”‚   â”‚   â”œâ”€â”€ edge.go                # Edge (Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ñ‹Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ)
â”‚   â”‚   â”œâ”€â”€ graph.go               # Graph structure (thread-safe)
â”‚   â”‚   â””â”€â”€ builder.go             # Builder Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ° Ğ¸Ğ· routes
â”‚   â”‚
â”‚   â”œâ”€â”€ routing/                   # ğŸ†• Routing Algorithms
â”‚   â”‚   â””â”€â”€ dijkstra.go            # Dijkstra pathfinding Ñ priority queue
â”‚   â”‚
â”‚   â”œâ”€â”€ visualization/             # ğŸ†• Map Visualization
â”‚   â”‚   â””â”€â”€ geojson.go             # GeoJSON generation Ğ´Ğ»Ñ ĞºĞ°Ñ€Ñ‚
â”‚   â”‚
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ interface.go           # Repository + Transaction interfaces
â”‚   â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”‚   â”œâ”€â”€ route_repository.go
â”‚   â”‚   â”‚   â””â”€â”€ booking_repository.go
â”‚   â”‚   â””â”€â”€ postgres/              # (Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)
â”‚   â”‚       â”œâ”€â”€ connection.go
â”‚   â”‚       â”œâ”€â”€ route_repository.go
â”‚   â”‚       â””â”€â”€ transaction.go      # ACID Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ route_service.go       # ĞŸĞ¾Ğ¸ÑĞº Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ² (graph-based)
â”‚   â”‚   â”œâ”€â”€ booking_service.go     # ğŸ”„ Multi-segment booking + ACID
â”‚   â”‚   â”œâ”€â”€ commission_service.go  # ğŸ†• Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ½Ğ°Ñ†ĞµĞ½ĞºĞ¸ (5-15%)
â”‚   â”‚   â”œâ”€â”€ insurance_service.go   # Ğ Ğ°ÑÑ‡ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²ĞºĞ¸
â”‚   â”‚   â””â”€â”€ payment_service.go     # ğŸ†• Payment processing (mock)
â”‚   â”‚
â”‚   â”œâ”€â”€ handler/
â”‚   â”‚   â””â”€â”€ http/                  # (Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)
â”‚   â”‚       â”œâ”€â”€ route_handler.go   # POST /api/v1/routes/search
â”‚   â”‚       â”œâ”€â”€ booking_handler.go # POST /api/v1/bookings
â”‚   â”‚       â””â”€â”€ middleware.go      # CORS, Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”‚
â”‚   â””â”€â”€ infrastructure/
â”‚       â”œâ”€â”€ database/
â”‚       â”‚   â””â”€â”€ postgres.go        # PostgreSQL connection pool
â”‚       â””â”€â”€ logger/
â”‚           â””â”€â”€ logger.go          # Structured logging
â”‚
â”œâ”€â”€ pkg/                           # ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ helpers.go             # ID generation, date parsing
â”‚       â”œâ”€â”€ cache.go               # In-memory cache Ñ TTL
â”‚       â””â”€â”€ logger.go              # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚
â”œâ”€â”€ migrations/                    # SQL Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ 000001_init_schema.up.sql
â”‚   â””â”€â”€ 000001_init_schema.down.sql
â”‚
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.yaml               # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚
â”œâ”€â”€ .env.example                  # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ README.md
```

## ğŸ”„ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### 1. ĞŸĞ¾Ğ¸ÑĞº Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²

```
POST /api/v1/routes/search
    â†“
RouteHandler.SearchRoutes()
    â†“
RouteService.SearchRoutes()
    â”œâ”€â†’ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ĞµĞ² Ğ¿Ğ¾Ğ¸ÑĞºĞ°
    â”œâ”€â†’ RouteRepository.FindByCriteria()
    â”œâ”€â†’ Ğ’Ñ‹Ğ±Ğ¾Ñ€ 3 Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ² (optimal, fast, cheap)
    â””â”€â†’ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ RouteSearchResult

ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¾Ñ‚Ğ±Ğ¾Ñ€Ğ°:
â€¢ Optimal  â†’ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ reliability score
â€¢ Fast     â†’ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ‰Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
â€¢ Cheap    â†’ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ‰Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ
```

### 2. Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ° (Multi-Segment + ACID)

```
POST /api/v1/bookings
    â†“
BookingHandler.CreateBooking()
    â†“
BookingService.CreateBooking()
    â”œâ”€â†’ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Route Ğ¸Ğ· RouteRepository
    â”œâ”€â†’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Booking Ñ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼Ğ¸ segments
    â”‚
    â”œâ”€â†’ Ğ”Ğ›Ğ¯ ĞšĞĞ–Ğ”ĞĞ“Ğ Ğ¡Ğ•Ğ“ĞœĞ•ĞĞ¢Ğ (ACID loop):
    â”‚   â”œâ”€â†’ CommissionService.CalculateCommission()  // ĞĞ°Ñ†ĞµĞ½ĞºĞ° 5-15%
    â”‚   â”œâ”€â†’ ProviderBookingService.BookSegment()     // Ğ‘Ñ€Ğ¾Ğ½ÑŒ Ñƒ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸ĞºĞ°
    â”‚   â”‚   â””â”€â†’ Ğ•ÑĞ»Ğ¸ FAILED â†’ ROLLBACK Ğ²ÑĞµÑ… Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ñ… ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²!
    â”‚   â”œâ”€â†’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ BookedSegment (ticket number, booking ref)
    â”‚   â””â”€â†’ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Booking
    â”‚
    â”œâ”€â†’ InsuranceService.CalculatePremium() (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
    â”‚   â€¢ Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¿Ñ€ĞµĞ¼Ğ¸Ñ: 5% Ğ¾Ñ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
    â”‚   â€¢ +1% Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğµ tight connection (< 2 Ñ‡Ğ°ÑĞ°)
    â”‚   â€¢ +0.5% Ğ·Ğ° Ğ½Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ñ€ĞµĞ¹ÑÑ‹
    â”‚   â€¢ +2% Ğ·Ğ° Ñ€ĞµÑ‡Ğ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ (Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ€Ğ¸ÑĞºĞ¸)
    â”‚
    â”œâ”€â†’ PaymentService.CreatePayment()
    â”œâ”€â†’ PaymentService.ProcessPayment()
    â”‚   â””â”€â†’ Ğ•ÑĞ»Ğ¸ FAILED â†’ ROLLBACK Ğ²ÑĞµÑ… Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹!
    â”‚
    â”œâ”€â†’ Booking.MarkAsConfirmed()
    â””â”€â†’ BookingRepository.Save()

ĞšĞ›Ğ®Ğ§Ğ•Ğ’ĞĞ¯ ĞĞ¡ĞĞ‘Ğ•ĞĞĞĞ¡Ğ¢Ğ¬:
Ğ•ÑĞ»Ğ¸ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ ĞĞ”Ğ˜Ğ ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚ Ğ¸Ğ»Ğ¸ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶ failed â†’
Ğ¾Ñ‚Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ’Ğ¡Ğ• Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (ACID Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ)
```

### 3. Dependency Injection Ğ² main.go

```go
// Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ»Ğ¾ĞµĞ² Ğ¾Ñ‚ Ğ½Ğ¸Ğ¶Ğ½ĞµĞ³Ğ¾ Ğº Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼Ñƒ
config := config.Load()         // â† Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
logger := logger.New()          // â† Logger
routeRepo := memory.New()       // â† Repository layer
routeService := service.New()   // â† Service layer (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ repo)
handler := handler.New()        // â† Handler layer (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ service)
```

## ğŸ—‚ï¸ Configuration

ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· environment variables:

```bash
# Ğ¡ĞµÑ€Ğ²ĞµÑ€
SERVER_HOST=localhost
SERVER_PORT=8080
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=15s

# Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
DB_DRIVER=memory              # memory, postgres, sqlite
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_NAME=lenalink
DB_SSLMODE=disable

# Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
LOG_LEVEL=INFO               # DEBUG, INFO, WARN, ERROR
LOG_JSON_FORMAT=false
```

Ğ”Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `.env` Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ»Ğ¸ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ· `.env.example`.

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### PostgreSQL (Production)

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
createdb lenalink

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
migrate -path migrations -database "postgres://user:pass@localhost/lenalink" up
```

### ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ÑÑ Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ `migrations/`:

```
migrations/
â”œâ”€â”€ 000001_init_schema.up.sql       # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
â””â”€â”€ 000001_init_schema.down.sql     # ĞÑ‚ĞºĞ°Ñ‚
```

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†

```sql
-- Routes table
CREATE TABLE routes (
    id UUID PRIMARY KEY,
    from_city VARCHAR(100),
    to_city VARCHAR(100),
    total_price DECIMAL(10, 2),
    reliability_score FLOAT,
    created_at TIMESTAMP
);

-- Bookings table
CREATE TABLE bookings (
    id UUID PRIMARY KEY,
    route_id UUID REFERENCES routes,
    passenger_count INT,
    total_price DECIMAL(10, 2),
    status VARCHAR(50),
    created_at TIMESTAMP
);

-- Tickets table
CREATE TABLE tickets (
    id UUID PRIMARY KEY,
    booking_id UUID REFERENCES bookings,
    segment_id UUID,
    ticket_number VARCHAR(50),
    status VARCHAR(50),
    created_at TIMESTAMP
);
```

## ğŸ‘¨â€ğŸ’» Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²

### Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
# Development (with in-memory storage)
DB_DRIVER=memory go run ./cmd/server

# Production (with PostgreSQL)
DB_DRIVER=postgres \
DB_HOST=localhost \
DB_PORT=5432 \
DB_USER=postgres \
DB_NAME=lenalink \
go run ./cmd/server
```

### Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°

```bash
# Debug build
go build -o bin/lenalink-server ./cmd/server

# Release build Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹
CGO_ENABLED=0 GOOS=linux go build -ldflags="-s -w" \
  -o bin/lenalink-server ./cmd/server
```

### Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```bash
# Ğ’ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹
go test ./...

# Ğ¡ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼
go test -cover ./...

# ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ°ĞºĞµÑ‚
go test ./internal/service

# ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ñ‚ĞµÑÑ‚
go test -run TestRouteService ./internal/service
```

### Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ°

```bash
# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
go fmt ./...

# Ğ›Ğ¸Ğ½Ñ‚ĞµÑ€ (ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)
golangci-lint run ./...

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
go mod tidy
go mod verify
```

### Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
migrate create -ext sql -dir migrations -seq create_users_table

# ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
migrate -path migrations -database "postgres://..." up

# ĞÑ‚ĞºĞ°Ñ‚ Ğ½Ğ° Ğ¾Ğ´Ğ½Ñƒ Ğ²ĞµÑ€ÑĞ¸Ñ
migrate -path migrations -database "postgres://..." down 1

# ĞÑ‚ĞºĞ°Ñ‚ Ğ²ÑĞµÑ… Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
migrate -path migrations -database "postgres://..." down
```

## ğŸ§ª Unit Testing

ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ in-memory repositories Ğ´Ğ»Ñ unit Ñ‚ĞµÑÑ‚Ğ¾Ğ²:

```go
// Test setup
routeRepo := memory.NewRouteRepository()
routeService := service.NewRouteService(routeRepo)

// Test
result, err := routeService.SearchRoutes(ctx, criteria)
assert.NoError(t, err)
assert.Len(t, result, 3)
```

## ğŸ“Š API Endpoints

### 1. ĞŸĞ¾Ğ¸ÑĞº Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²

```bash
POST /api/v1/routes/search
Content-Type: application/json

{
  "from_city": "ĞœĞ¾ÑĞºĞ²Ğ°",
  "to_city": "ĞĞ»ĞµĞºĞ¼Ğ¸Ğ½ÑĞº",
  "departure_date": "2025-11-20",
  "passenger_count": 1
}

# ĞÑ‚Ğ²ĞµÑ‚: RouteSearchResult Ñ 3 Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¼Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°Ğ¼Ğ¸
```

### 2. Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°

```bash
GET /api/v1/routes/{route_id}

# ĞÑ‚Ğ²ĞµÑ‚: Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğµ
```

### 3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```bash
POST /api/v1/bookings
Content-Type: application/json

{
  "route_id": "route-123",
  "passengers": [
    {
      "first_name": "Ğ˜Ğ²Ğ°Ğ½",
      "last_name": "ĞŸĞµÑ‚Ñ€Ğ¾Ğ²",
      "date_of_birth": "1990-01-15",
      "passport_number": "123456789",
      "passport_series": "12 AB"
    }
  ],
  "include_insurance": true
}

# ĞÑ‚Ğ²ĞµÑ‚: Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ½Ğ¾Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ ticket numbers
```

## ğŸš¨ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

Ğ’ÑĞµ API Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ ÑĞ»ĞµĞ´ÑƒÑÑ‚ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ¼Ñƒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñƒ:

**Ğ£ÑĞ¿ĞµÑ…:**
```json
{
  "success": true,
  "data": {
    "id": "route-123",
    "from_city": "ĞœĞ¾ÑĞºĞ²Ğ°",
    "to_city": "ĞĞ»ĞµĞºĞ¼Ğ¸Ğ½ÑĞº",
    ...
  },
  "error": null
}
```

**ĞÑˆĞ¸Ğ±ĞºĞ°:**
```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "ROUTE_NOT_FOUND",
    "message": "Route not found with ID: route-123",
    "timestamp": "2025-11-15T14:30:00Z"
  }
}
```

## ğŸ“¦ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

```
github.com/gorilla/mux v1.8.1    # HTTP router
```

ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸Ğ· ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¾Ğ¹ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Go:
- `context` - Context management
- `crypto/rand` - Secure random generation
- `sync` - Concurrency primitives
- `time` - Date/time operations
- `encoding/json` - JSON marshalling

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ (Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ MVP)
- âŒ ĞĞµÑ‚ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ (JWT/OAuth)
- âŒ ĞĞµÑ‚ authorization (RBAC)
- âŒ ĞĞµÑ‚ rate limiting
- âŒ ĞĞµÑ‚ HTTPS Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
- âŒ ĞĞµÑ‚ CORS Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ

### Production Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
- âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ JWT Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ HTTPS/TLS
- âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ rate limiting
- âœ… ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ CORS Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºÑƒ
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ÑĞµ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ prepared statements Ğ´Ğ»Ñ Ğ‘Ğ”

## ğŸ› ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
# Health check
curl http://localhost:8080/health

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€ ÑĞ»ÑƒÑˆĞ°ĞµÑ‚ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ
lsof -i :8080

# Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸
tail -f app.log
```

### Debug Ñ€ĞµĞ¶Ğ¸Ğ¼

```bash
# Ğ¡ debug Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼
LOG_LEVEL=DEBUG go run ./cmd/server

# Ğ¡ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹ Ğ²ÑĞµÑ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
TRACE=1 go run ./cmd/server
```

## ğŸ“ˆ Performance

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ² ĞºĞ¾Ğ´Ğµ

1. **Connection pooling** - PostgreSQL pool Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ configurable
2. **Caching** - In-memory ĞºÑÑˆ Ñ TTL Ğ´Ğ»Ñ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²
3. **Goroutines** - ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
4. **Database indexes** - ĞĞ° Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑÑ…

### ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ:
- Prometheus Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
- OpenTelemetry Ñ‚Ñ€ĞµĞ¹ÑĞ¸Ğ½Ğ³
- Structured logging (JSON format)

## ğŸš€ ĞŸĞ»Ğ°Ğ½Ñ‹ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ

- [ ] Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼Ğ¸ (WEB-API 2.4.1, 1Ğ¡ Ğ“ĞĞ Ğ¡, 1Ğ¡ ĞĞ²Ğ¸Ğ‘ÑƒÑ)
- [ ] PostgreSQL persistence
- [ ] Redis ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- [ ] JWT Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- [ ] Email/SMS ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
- [ ] Webhook Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- [ ] GraphQL API
- [ ] WebSocket Ğ´Ğ»Ñ live updates
- [ ] Kubernetes Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°
- [ ] ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ğ¸Ğ½Ğ³

## ğŸ“ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹? Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ issues Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸.

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ´Ğ»Ñ Ñ…Ğ°ĞºĞ°Ñ‚Ğ¾Ğ½Ğ° HACK the ICE 2025.

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 0.2.0 (SOLID Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Ğ’ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2025-11-15
